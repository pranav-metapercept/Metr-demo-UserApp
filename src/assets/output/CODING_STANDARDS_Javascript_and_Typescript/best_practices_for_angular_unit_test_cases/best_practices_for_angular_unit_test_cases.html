<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2023"><meta name="generator" content="DITA-OT"><title>Best practices for Angular unit test cases</title><link rel="stylesheet" type="text/css" href="../../commonltr.css"></head><body id="d3aAmf"><nav class="toc" role="navigation"><ul><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/introduction/introduction.html">Introduction</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_angular_cli/use_angular_cli.html">Use Angular CLI</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/maintain_proper_folder_structure/maintain_proper_folder_structure.html">Maintain proper folder structure</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/follow_consistent_angular_coding_styles/follow_consistent_angular_coding_styles.html">Follow consistent Angular coding styles</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_es6_features/use_es6_features.html">Use ES6 features</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_trackby_along_with_ngfor/use_trackby_along_with_ngfor.html">Use trackBy along with ngFor</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/break_down_into_small_reusable_components/break_down_into_small_reusable_components.html">Break down into small reusable components</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_lazy_loading/use_lazy_loading.html">Use Lazy Loading</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_index_ts/use_index_ts.html">Use Index.ts</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/avoid_logic_in_templates/avoid_logic_in_templates.html">Avoid logic in templates</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/_cache_api_calls/_cache_api_calls.html">Cache API calls</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_async_pipe_in_templates/use_async_pipe_in_templates.html">Use async pipe in templates</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/declare_safe_strings/declare_safe_strings.html">Declare safe strings</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/avoid_any_type_when_declaring_constants_and_variables/avoid_any_type_when_declaring_constants_and_variables.html">Avoid any type when declaring constants and variables</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/state_management/state_management.html">State management</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_cdk_virtual_scroll/use_cdk_virtual_scroll.html">Use CDK Virtual Scroll</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_environment_variables/use_environment_variables.html">Use environment variables</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/use_lint_rules_for_typescript_and_scss/use_lint_rules_for_typescript_and_scss.html">Use lint rules for Typescript and SCSS</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/always_document_the_code/always_document_the_code.html">Always document the code</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/write_readable_code/write_readable_code.html">Write readable code</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/file_names/file_names.html">File names</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/variable_and_function_names/variable_and_function_names.html">Variable and function names</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/write_small_pure_functions/write_small_pure_functions.html">Write small pure functions</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/remove_unused_code/remove_unused_code.html">Remove unused code</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/avoid_code_comments/avoid_code_comments.html">Avoid code comments</a></li><li class="active"><a href="../../CODING_STANDARDS_Javascript_and_Typescript/best_practices_for_angular_unit_test_cases/best_practices_for_angular_unit_test_cases.html">Best practices for Angular unit test cases</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/error_handling.html">Error handling</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/handling_errors_with_httpclient/handling_errors_with_httpclient.html">Handling Errors with HttpClient</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/handling_errors_with_httpinterceptor/handling_errors_with_httpinterceptor.html">Handling Errors with HttpInterceptor</a><ul><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/handling_errors_with_httpinterceptor/heaging_3.html">Heaging 3</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/handling_errors_with_httpinterceptor/part1_heaging_3.html">Part1_Heaging 3</a></li><li><a href="../../CODING_STANDARDS_Javascript_and_Typescript/error_handling/handling_errors_with_httpinterceptor/part2_heaging_3.html">Part2_Heaging 3</a></li></ul></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Best practices for Angular unit test cases</h1>
   <div class="body">
      <ul class="ul">
         <li class="li">Make sure unit tests run in an isolated environment so that they run fast.</li>
         <li class="li">Make sure we have at least 80% of the code coverage.</li>
         <li class="li">When it comes to testing services, always use spies from the jasmine framework for the dependencies this makes testing a lot faster.</li>
         <li class="li">When we subscribe to observables while testing, make sure we provide both success and failure callbacks. This will remove unnecessary errors.</li>
         <li class="li">When testing components with service dependencies, always use mock services instead of real services.</li>
         <li class="li">All the TestBedConfiguration should be placed in beforeEach not to repeat the same code for every test.</li>
         <li class="li">While testing components, always access the DOM with debugElement instead of directly calling nativeElement. This is because debugElement provides an abstraction for the underlying runtime environment. This will reduce unnecessary errors.</li>
         <li class="li">Prefer By.css instead of queryselector if you are running the app on the server as well. This is because the queryselector works only in the browser. if we are running the app on the server, this will fail. But we have to unwrap the result to get the actual value.</li>
         <li class="li">Always use a fixture.detectChanges() instead of ComponentFixtureAutoDetect. ComponentFixtureAutoDetect doesn’t know the synchronous update to the components.</li>
         <li class="li">Call compileComponents() if we are running the tests in the non-CLI environment.</li>
         <li class="li">Use RXJS marble testing whenever we are testing observables.</li>
         <li class="li">Use PageObject model for reusable functions across components.</li>
         <li class="li">Don’t overuse NO_ERRORS_SCHEMA. This tells angular to ignore the attributes and unrecognized tags, prefer to use component stubs.</li>
         <li class="li">Another advantage of using component stubs instead of NO_ERRORS_SCHEMA is that we can interact with these components if necessary. It’s better to use both techniques together</li>
         <li class="li">Never do any setup after calling compileComponents(). compileComponents is asynchronous and should be executed in async beforeEach. Maintain the second beforeEach to do the synchronous setup.</li>
      </ul>
   </div>
</article></main></body></html>